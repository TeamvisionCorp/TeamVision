webpackJsonp([1],{D9ff:function(t,a){},lbWD:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Dd8w"),i=s.n(e),o=(s("IcnI"),s("NYxO")),r={name:"CIHead",props:["menuItem","flowID"],data:function(){return{ciTaskSearchKey:"",projectCITasks:[]}},computed:i()({},Object(o.c)("ciglobal",["ciDynamicMenu","ciHeadToolShow"])),methods:i()({},Object(o.d)("citask",["setCITaskSearchKey"]),Object(o.d)("ciglobal",["setCINewObject"]),{loadCITaskList:function(){var t=this;this.$axios.get("/api/ci/project/my").then(function(a){t.projectCITasks=a.data.result},function(t){})},filterCITask:function(t){if(this.initCITaskStatus(),this.setCITaskSearchKey(t),""!==t.trim())for(var a=0;a<this.projectCITasks.length;a++){this.projectCITasks[a].CITaskCount=0;for(var s=0;s<this.projectCITasks[a].CITasks.length;s++){var e=this.projectCITasks[a].CITasks[s];e.TaskName.toUpperCase().indexOf(t.toUpperCase())>-1?(e.Display=!0,this.projectCITasks[a].CITaskCount++):e.Display=!1}}},initCITaskStatus:function(){for(var t=0;t<this.projectCITasks.length;t++){this.projectCITasks[t].CITaskCount=0;for(var a=0;a<this.projectCITasks[t].CITasks.length;a++){this.projectCITasks[t].CITasks[a].Display=!0,this.projectCITasks[t].CITaskCount++}}},onAddCITask:function(){this.setCINewObject(!0)}}),created:function(){this.loadCITaskList()},components:{}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"app-body-head-default"},[s("div",{staticClass:"app-body-header-bar-default"},[s("Row",[s("Col",{attrs:{lg:16,md:14,sm:16,xs:16}},[s("div",{staticClass:"app-body-header-leftbar-default"},[s("ul",{staticClass:"app-body-head-menu"},[s("router-link",{staticClass:"app-body-head-menu-item",attrs:{to:"/ci/task",tag:"li","active-class":"app-body-head-menu-item-active"}},[s("a",{attrs:{href:"/ci/task"}},[s("i",{staticClass:"fa fa-fw  fa-bus"}),t._v("任务")])]),t._v(" "),t.ciDynamicMenu.show?s("router-link",{staticClass:"app-body-head-menu-item-active app-body-head-menu-item",attrs:{to:t.ciDynamicMenu.path,tag:"li"}},[s("a",{attrs:{href:"/ci"}},[s("Icon",{attrs:{size:24,type:"ios-settings"}}),t._v(" "+t._s(t.ciDynamicMenu.text))],1)]):t._e()],1)])]),t._v(" "),s("Col",{attrs:{lg:4,md:4,sm:0,xs:0}},[s("div",{staticStyle:{"padding-top":"20px",height:"inherit"}},[t.ciHeadToolShow.taskSearchBox?s("AutoComplete",{staticStyle:{width:"100%"},attrs:{size:"small",transfer:!0,icon:"ios-search",placeholder:"输入任务名称，查找任务！"},on:{"on-search":t.filterCITask},model:{value:t.ciTaskSearchKey,callback:function(a){t.ciTaskSearchKey=a},expression:"ciTaskSearchKey"}},[s("div",{staticStyle:{"overflow-y":"scroll","max-height":"400px"}},t._l(t.projectCITasks,function(a){return a.CITaskCount>0?s("div",{staticClass:"demo-auto-complete-item"},[s("div",{staticClass:"demo-auto-complete-group"},[s("span",{staticStyle:{"padding-left":"10px"}},[s("Avatar",{attrs:{src:a.PBAvatar}})],1),t._v(" "),s("span",[t._v(t._s(a.ProjectName))]),t._v(" "),s("span",[t._v("  ("+t._s(a.CITaskCount)+")")])]),t._v(" "),t._l(a.CITasks,function(a){return a.Display?s("Option",{key:a.ID,attrs:{value:a.TaskName}},[s("a",{staticClass:"demo-auto-complete-title",attrs:{href:a.TaskHistoryURL}},[t._v(t._s(a.TaskName))])]):t._e()})],2):t._e()}))]):t._e()],1)]),t._v(" "),s("Col",{attrs:{lg:4,md:6,sm:8,xs:8}},[s("div",{staticClass:"app-body-header-rightbar-default",staticStyle:{"padding-top":"15px",height:"inherit"}},[t.ciHeadToolShow.newObject?s("span",{on:{click:t.onAddCITask}},[s("Avatar",{staticClass:"cursor-hand",staticStyle:{"background-color":"#32be77"},attrs:{icon:"md-add"}})],1):t._e(),t._v(" "),s("Divider",{attrs:{type:"vertical"}}),t._v(" "),s("span",{staticClass:"cursor-hand",staticStyle:{"padding-left":"10px"}},[s("Dropdown",{attrs:{transfer:""}},[s("a",{staticStyle:{color:"inherit"},attrs:{href:"javascript:void(0)"}},[s("span",[s("Icon",{attrs:{size:24,type:"ios-settings"}})],1),t._v(" "),s("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("DropdownItem",{attrs:{name:"1"}},[s("Icon",{attrs:{type:"md-podium"}}),t._v(" "),s("router-link",{attrs:{to:"/ci/settings/global_variable",tag:"span"}},[t._v("全局变量")])],1),t._v(" "),s("DropdownItem",{attrs:{name:"2"}},[s("Icon",{attrs:{type:"ios-desktop"}}),t._v(" "),s("router-link",{attrs:{to:"/ci/settings/agent",tag:"span"}},[t._v("Agent")])],1),t._v(" "),s("DropdownItem",{attrs:{name:"3"}},[s("Icon",{attrs:{type:"ios-bookmark"}}),t._v(" "),s("router-link",{attrs:{to:"/ci/settings/tag",tag:"span"}},[t._v("标签")])],1)],1)],1)],1)],1)])],1)],1)])},staticRenderFns:[]};var c=s("VU/8")(r,n,!1,function(t){s("D9ff")},"data-v-37f17bb2",null);a.default=c.exports}});
//# sourceMappingURL=1.de6cfe7318d3018752ad.js.map