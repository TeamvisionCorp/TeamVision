{"version":3,"sources":["webpack:///src/pages/ci/citaskflow/ci_task_flow_item/Head.vue","webpack:///./src/pages/ci/citaskflow/ci_task_flow_item/Head.vue?46ea","webpack:///./src/pages/ci/citaskflow/ci_task_flow_item/Head.vue"],"names":["Head","name","props","data","themeLight","myTaskFlows","currentTaskFlow","taskFlowName","hasTasks","computed","currentTaskFlowName","this","loadSelectTaskFlow","flowID","showNewButton","$route","methods","extends_default","Object","vuex_esm","loadMyTaskFlows","_this","$axios","get","then","response","result","results","_this2","FlowName","i","Sections","length","CITaskIDs","onAddSection","setAddedSectionDialogShow","created","components","ci_task_flow_item_Head","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","lg","md","sm","xs","staticStyle","width","trigger","transfer","href","type","size","_v","max-height","overflow-y","slot","key","to","tag","text-align","height","display","padding-top","color","_l","flow","id","_s","padding-left","padding-right","exact","active-class","margin-left","on","click","content","background-color","icon","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"font/static/js/4.2027d7f90c0f0550e0c2.js","sourcesContent":["<template>\n  <div class=\"app-body-head-default\">\n  <div class=\"app-body-header-bar-default\">\n          <Row>\n            <Col :lg=\"16\" :md=\"14\" :sm=\"16\" :xs=\"16\">\n            <div class=\"app-body-header-leftbar-default\">\n              <ul class=\"app-body-head-menu\">\n                <li class=\"app-body-head-menu-item\" style=\"width: 50px;\">\n                  <Dropdown trigger=\"click\" transfer>\n                    <a   href=\"javascript:void(0)\">\n                      <!--<Tooltip content=\"点击切换任务流\" placement=\"bottom-end\" style=\"text-overflow: ellipsis;overflow: hidden;max-width: 300px;white-space:nowrap;\">-->\n                      <Icon type=\"md-reorder\" :size=\"24\"/>\n                      <!--</Tooltip>-->\n                    </a>\n                    <DropdownMenu slot=\"list\" style=\"max-height: 400px;overflow-y: scroll\">\n                      <DropdownItem  key=\"default_return\">\n                        <router-link to=\"/ci/taskflow\" tag=\"li\">\n                          <a   style=\"text-align: left;height: 30px;display: block;padding-top:5px; color: inherit;\"><Icon type=\"ios-exit\" /> 返回任务流</a>\n                        </router-link>\n                      </DropdownItem>\n                      <DropdownItem  v-for=\"flow in myTaskFlows\" :key=\"flow.id\">\n                        <router-link :to=\"'/ci/taskflow/'+flow.id\" tag=\"li\">\n                          <a style=\"text-align: left;height: 30px;display: block;padding-top:5px;color: inherit;\"><Icon type=\"ios-folder\"></Icon> {{ flow.FlowName }}</a>\n                        </router-link>\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </Dropdown>\n                </li>\n                <router-link :to=\"'/ci/taskflow/'+flowID\" tag=\"li\"  exact active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\" style=\"width: auto;padding-left:10px;padding-right: 10px;\">\n                  <a>{{ currentTaskFlowName }}</a>\n                </router-link>\n                <!--<router-link to=\"/ci/taskflow\" tag=\"li\" exact-active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\">-->\n                  <!--<a href=\"/ci/taskflow\"><i class=\"fa fa-fw  fa-bus\"></i>任务流</a>-->\n                <!--</router-link>-->\n                <router-link :to=\"'/ci/taskflow/'+flowID+'/history'\" tag=\"li\" active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\" style=\"margin-left: 10px;\">\n                  <a href=\"/ci/taskflow/12/history\"><i class=\"fa fa-fw  fa-bus\"></i>执行记录</a>\n                </router-link>\n                <!--<li class=\"app-body-head-menu-item\">-->\n                  <!--<a href=\"http://teamcat.qyvideo.net/ci/settings/global_variable\"><i class=\"fa fa-fw  fa-bus\"></i>设置</a>-->\n                <!--</li>-->\n              </ul>\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"4\" :sm=\"0\" :xs=\"0\">\n            <div style=\"padding-top:20px;height: inherit\">\n              <!--<Select   v-model=\"selectedTaskFlow\" :transfer=\"true\" size=\"small\" style=\"width:200px\"  :filterable=\"true\">-->\n                <!--<Option :value=\"1\" label=\"s\">-->\n                  <!--s </Option>-->\n              <!--</Select>-->\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"6\" :sm=\"8\" :xs=\"8\">\n            <div class=\"app-body-header-rightbar-default\" style=\"padding-top: 15px;height: inherit\">\n              <span  @click=\"onAddSection\" v-if=\"showNewButton\">\n                <Tooltip content=\"添加工作流阶段\">\n                    <Avatar class=\"cursor-hand\" style=\"background-color: #32be77;\" icon=\"md-add\"  />\n                </Tooltip>\n              </span>\n            </div>\n          </Col>\n          </Row>\n  </div>\n  </div>\n</template>\n\n<script>\nimport store from '../../../../store/index.js'\nimport { mapMutations} from 'vuex'\n\n  export default {\n    name: 'CIHead',\n    props: ['flowID'],\n    data () {\n      return {\n         themeLight: 'light',\n         myTaskFlows: [],\n         currentTaskFlow: null,\n         taskFlowName: '',\n         hasTasks: false\n\n      }\n    },\n    computed: {\n      currentTaskFlowName: function () {\n        this.loadSelectTaskFlow(this.flowID)\n        return this.taskFlowName\n      },\n      showNewButton: function () {\n        if (this.$route.name === 'ciTaskFlowItem') {\n          return true\n        }\n        else {\n          return false\n        }\n    }},\n\n    methods: {\n      ...mapMutations('citaskflow', ['setAddedSectionDialogShow']),\n      loadMyTaskFlows: function () {\n        this.$axios.get('/api/ci/task_flow/my?page_size=10000').then(response => {\n          this.myTaskFlows = response.data.result.results\n        }, response => {\n          // error callback\n        })\n      },\n      loadSelectTaskFlow: function (flowID) {\n        this.$axios.get('/api/ci/task_flow/' + flowID + '/').then(response => {\n          this.currentTaskFlow = response.data.result\n          this.taskFlowName = this.currentTaskFlow.FlowName\n          for(let i=0; i<this.currentTaskFlow.Sections.length;i++)\n          {\n             if(this.currentTaskFlow.Sections[i].CITaskIDs.length>0)\n             {\n               this.hasTasks = true\n             }\n             else\n             {\n               this.hasTasks = false\n             }\n          }\n        }, response => {\n          // error callback\n        })\n      },\n      onAddSection: function () {\n        this.setAddedSectionDialogShow(true)\n      }\n\n    },\n    created: function () {\n      this.loadMyTaskFlows()\n      this.loadSelectTaskFlow(this.flowID)\n    },\n    components: {}\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n@import '../../../../components/layout/appBody';\n@import '../../../../components/layout/appHead';\n@import '../../../../assets/teamcat/global/less/global';\n.demo-auto-complete-item{\n  padding: 4px 0;\n  border-bottom: 1px solid #F6F6F6;\n}\n.demo-auto-complete-group{\n  font-size: 12px;\n  padding: 4px 6px;\n}\n.demo-auto-complete-group span{\n  color: #666;\n  font-weight: bold;\n}\n.demo-auto-complete-group a{\n  float: right;\n}\n.demo-auto-complete-count{\n  float: right;\n  color: #999;\n}\n.demo-auto-complete-more {\n  display: block;\n  margin: 0 auto;\n  padding: 4px;\n  text-align: center;\n  font-size: 12px;\n}\n.demo-auto-complete-title{\n  color:inherit;\n  padding-left:20px;\n}\n.task-search-itemgroup-badge\n{\n  background-color: #388E8E!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/ci/citaskflow/ci_task_flow_item/Head.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-body-head-default\"},[_c('div',{staticClass:\"app-body-header-bar-default\"},[_c('Row',[_c('Col',{attrs:{\"lg\":16,\"md\":14,\"sm\":16,\"xs\":16}},[_c('div',{staticClass:\"app-body-header-leftbar-default\"},[_c('ul',{staticClass:\"app-body-head-menu\"},[_c('li',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"width\":\"50px\"}},[_c('Dropdown',{attrs:{\"trigger\":\"click\",\"transfer\":\"\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"}},[_c('Icon',{attrs:{\"type\":\"md-reorder\",\"size\":24}})],1),_vm._v(\" \"),_c('DropdownMenu',{staticStyle:{\"max-height\":\"400px\",\"overflow-y\":\"scroll\"},attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{key:\"default_return\"},[_c('router-link',{attrs:{\"to\":\"/ci/taskflow\",\"tag\":\"li\"}},[_c('a',{staticStyle:{\"text-align\":\"left\",\"height\":\"30px\",\"display\":\"block\",\"padding-top\":\"5px\",\"color\":\"inherit\"}},[_c('Icon',{attrs:{\"type\":\"ios-exit\"}}),_vm._v(\" 返回任务流\")],1)])],1),_vm._v(\" \"),_vm._l((_vm.myTaskFlows),function(flow){return _c('DropdownItem',{key:flow.id},[_c('router-link',{attrs:{\"to\":'/ci/taskflow/'+flow.id,\"tag\":\"li\"}},[_c('a',{staticStyle:{\"text-align\":\"left\",\"height\":\"30px\",\"display\":\"block\",\"padding-top\":\"5px\",\"color\":\"inherit\"}},[_c('Icon',{attrs:{\"type\":\"ios-folder\"}}),_vm._v(\" \"+_vm._s(flow.FlowName))],1)])],1)})],2)],1)],1),_vm._v(\" \"),_c('router-link',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"width\":\"auto\",\"padding-left\":\"10px\",\"padding-right\":\"10px\"},attrs:{\"to\":'/ci/taskflow/'+_vm.flowID,\"tag\":\"li\",\"exact\":\"\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',[_vm._v(_vm._s(_vm.currentTaskFlowName))])]),_vm._v(\" \"),_c('router-link',{staticClass:\"app-body-head-menu-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"to\":'/ci/taskflow/'+_vm.flowID+'/history',\"tag\":\"li\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',{attrs:{\"href\":\"/ci/taskflow/12/history\"}},[_c('i',{staticClass:\"fa fa-fw  fa-bus\"}),_vm._v(\"执行记录\")])])],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":4,\"sm\":0,\"xs\":0}},[_c('div',{staticStyle:{\"padding-top\":\"20px\",\"height\":\"inherit\"}})]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":6,\"sm\":8,\"xs\":8}},[_c('div',{staticClass:\"app-body-header-rightbar-default\",staticStyle:{\"padding-top\":\"15px\",\"height\":\"inherit\"}},[(_vm.showNewButton)?_c('span',{on:{\"click\":_vm.onAddSection}},[_c('Tooltip',{attrs:{\"content\":\"添加工作流阶段\"}},[_c('Avatar',{staticClass:\"cursor-hand\",staticStyle:{\"background-color\":\"#32be77\"},attrs:{\"icon\":\"md-add\"}})],1)],1):_vm._e()])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14228e93\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/ci/citaskflow/ci_task_flow_item/Head.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14228e93\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Head.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14228e93\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Head.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14228e93\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/ci/citaskflow/ci_task_flow_item/Head.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}