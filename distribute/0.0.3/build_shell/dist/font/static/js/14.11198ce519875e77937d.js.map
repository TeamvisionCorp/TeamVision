{"version":3,"sources":["webpack:///src/pages/ci/Head.vue","webpack:///./src/pages/ci/Head.vue?b750","webpack:///./src/pages/ci/Head.vue"],"names":["Head","name","props","data","ciTaskSearchKey","projectCITasks","methods","extends_default","Object","vuex_esm","loadCITaskList","_this","this","$axios","get","then","response","result","filterCITask","value","initCITaskStatus","setCITaskSearchKey","trim","i","length","CITaskCount","j","CITasks","temp","TaskName","toUpperCase","indexOf","Display","onAddCITask","setCITaskCreateDialogShow","onAddCITaskFlow","setCITaskFlowCreateDialogShow","created","components","ci_Head","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","lg","md","sm","xs","to","tag","active-class","href","_v","staticStyle","padding-top","height","menuItem","width","size","transfer","icon","placeholder","on","on-search","model","callback","$$v","expression","overflow-y","max-height","_l","item","padding-left","src","PBAvatar","_s","ProjectName","option","key","ID","TaskHistoryURL","_e","click","background-color","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8KAsDAA,GACAC,KAAA,SACAC,OAAA,qBACAC,KAHA,WAIA,OACAC,gBAAA,GACAC,oBAGAC,QAAAC,OACAC,OAAAC,EAAA,EAAAD,CAAA,6DACAA,OAAAC,EAAA,EAAAD,CAAA,iDACAE,eAAA,eAAAC,EAAAC,KACAA,KAAAC,OAAAC,IAAA,sBAAAC,KAAA,SAAAC,GACAL,EAAAN,eAAAW,EAAAb,KAAAc,QACA,SAAAD,OAIAE,aAAA,SAAAC,GAGA,GAFAP,KAAAQ,mBACAR,KAAAS,mBAAAF,GACA,KAAAA,EAAAG,OAEA,QAAAC,EAAA,EAAAA,EAAAX,KAAAP,eAAAmB,OAAAD,IACA,CACAX,KAAAP,eAAAkB,GAAAE,YAAA,EACA,QAAAC,EAAA,EAAAA,EAAAd,KAAAP,eAAAkB,GAAAI,QAAAH,OAAAE,IACA,CACA,IAAAE,EAAAhB,KAAAP,eAAAkB,GAAAI,QAAAD,GACAE,EAAAC,SAAAC,cAAAC,QAAAZ,EAAAW,gBAAA,GAEAF,EAAAI,SAAA,EACApB,KAAAP,eAAAkB,GAAAE,eAIAG,EAAAI,SAAA,KAMAZ,iBAAA,WACA,QAAAG,EAAA,EAAAA,EAAAX,KAAAP,eAAAmB,OAAAD,IACA,CACAX,KAAAP,eAAAkB,GAAAE,YAAA,EACA,QAAAC,EAAA,EAAAA,EAAAd,KAAAP,eAAAkB,GAAAI,QAAAH,OAAAE,IACA,CACAd,KAAAP,eAAAkB,GAAAI,QAAAD,GACAM,SAAA,EACApB,KAAAP,eAAAkB,GAAAE,iBAKAQ,YAAA,WACArB,KAAAsB,2BAAA,IAEAC,gBAAA,WACAvB,KAAAwB,+BAAA,MAIAC,QAAA,WACAzB,KAAAF,kBAGA4B,eCvHAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7B,KAAa8B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,0BAAoCF,EAAA,OAAYE,YAAA,gCAA0CF,EAAA,OAAAA,EAAA,OAAsBG,OAAOC,GAAA,GAAAC,GAAA,GAAAC,GAAA,GAAAC,GAAA,MAAiCP,EAAA,OAAYE,YAAA,oCAA8CF,EAAA,MAAWE,YAAA,uBAAiCF,EAAA,eAAoBE,YAAA,0BAAAC,OAA6CK,GAAA,WAAAC,IAAA,KAAAC,eAAA,oCAA4EV,EAAA,KAAUG,OAAOQ,KAAA,cAAmBX,EAAA,KAAUE,YAAA,qBAA+BL,EAAAe,GAAA,UAAAf,EAAAe,GAAA,KAAAZ,EAAA,eAAiDE,YAAA,0BAAAC,OAA6CK,GAAA,eAAAC,IAAA,KAAAC,eAAA,oCAAgFV,EAAA,KAAUG,OAAOQ,KAAA,kBAAuBX,EAAA,KAAUE,YAAA,qBAA+BL,EAAAe,GAAA,WAAAf,EAAAe,GAAA,KAAAZ,EAAA,MAAyCE,YAAA,4BAAsCF,EAAA,KAAUG,OAAOQ,KAAA,kCAAuCX,EAAA,KAAUE,YAAA,qBAA+BL,EAAAe,GAAA,kBAAAf,EAAAe,GAAA,KAAAZ,EAAA,OAAiDG,OAAOC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAA6BP,EAAA,OAAYa,aAAaC,cAAA,OAAAC,OAAA,aAAyC,SAAAlB,EAAAmB,SAAAhB,EAAA,gBAA+Ca,aAAaI,MAAA,QAAed,OAAQe,KAAA,QAAAC,UAAA,EAAAC,KAAA,aAAAC,YAAA,gBAAgFC,IAAKC,YAAA1B,EAAAvB,cAA6BkD,OAAQjD,MAAAsB,EAAA,gBAAA4B,SAAA,SAAAC,GAAqD7B,EAAArC,gBAAAkE,GAAwBC,WAAA,qBAA+B3B,EAAA,OAAYa,aAAae,aAAA,SAAAC,aAAA,UAA4ChC,EAAAiC,GAAAjC,EAAA,wBAAAkC,GAA4C,OAAAA,EAAAlD,YAAA,EAAAmB,EAAA,OAAsCE,YAAA,4BAAsCF,EAAA,OAAYE,YAAA,6BAAuCF,EAAA,QAAaa,aAAamB,eAAA,UAAuBhC,EAAA,UAAeG,OAAO8B,IAAAF,EAAAG,aAAqB,GAAArC,EAAAe,GAAA,KAAAZ,EAAA,QAAAH,EAAAe,GAAAf,EAAAsC,GAAAJ,EAAAK,gBAAAvC,EAAAe,GAAA,KAAAZ,EAAA,QAAAH,EAAAe,GAAA,MAAAf,EAAAsC,GAAAJ,EAAAlD,aAAA,SAAAgB,EAAAe,GAAA,KAAAf,EAAAiC,GAAAC,EAAA,iBAAAM,GAAyL,OAAAA,EAAA,QAAArC,EAAA,UAAqCsC,IAAAD,EAAAE,GAAApC,OAAqB5B,MAAA8D,EAAApD,YAAyBe,EAAA,KAAUE,YAAA,2BAAAC,OAA8CQ,KAAA0B,EAAAG,kBAA8B3C,EAAAe,GAAAf,EAAAsC,GAAAE,EAAApD,eAAAY,EAAA4C,QAA+C,GAAA5C,EAAA4C,UAAe5C,EAAA4C,MAAA,KAAA5C,EAAAe,GAAA,KAAAZ,EAAA,OAA0CG,OAAOC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAA6BP,EAAA,OAAYE,YAAA,mCAAAW,aAA4DC,cAAA,OAAAC,OAAA,aAAyC,SAAAlB,EAAAmB,SAAAhB,EAAA,QAAuCsB,IAAIoB,MAAA7C,EAAAR,eAAyBW,EAAA,UAAeE,YAAA,cAAAW,aAAuC8B,mBAAA,WAA6BxC,OAAQiB,KAAA,aAAiB,GAAAvB,EAAA4C,KAAA5C,EAAAe,GAAA,kBAAAf,EAAAmB,SAAAhB,EAAA,QAAoEsB,IAAIoB,MAAA7C,EAAAN,mBAA6BS,EAAA,UAAeE,YAAA,cAAAW,aAAuC8B,mBAAA,WAA6BxC,OAAQiB,KAAA,aAAiB,GAAAvB,EAAA4C,UAAA,UAE5tFG,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA3F,EACAuC,GATA,EAVA,SAAAqD,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"font/static/js/14.11198ce519875e77937d.js","sourcesContent":["<template>\n  <div class=\"app-body-head-default\">\n  <div class=\"app-body-header-bar-default\">\n          <Row>\n            <Col :lg=\"16\" :md=\"14\" :sm=\"16\" :xs=\"16\">\n            <div class=\"app-body-header-leftbar-default\">\n              <ul class=\"app-body-head-menu\">\n                <router-link to=\"/ci/task\" tag=\"li\" active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\">\n                  <a href=\"/ci/task\"><i class=\"fa fa-fw  fa-bus\"></i>任务</a>\n                </router-link>\n                <router-link to=\"/ci/taskflow\" tag=\"li\" active-class=\"app-body-head-menu-item-active\" class=\"app-body-head-menu-item\">\n                  <a href=\"/ci/taskflow\"><i class=\"fa fa-fw  fa-bus\"></i>任务流</a>\n                </router-link>\n\n                <li class=\"app-body-head-menu-item\">\n                  <a href=\"/ci/settings/global_variable\"><i class=\"fa fa-fw  fa-bus\"></i>设置</a>\n                </li>\n              </ul>\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"4\" :sm=\"0\" :xs=\"0\">\n            <div style=\"padding-top:20px;height: inherit\">\n              <AutoComplete v-if=\"menuItem === 'task'\" @on-search=\"filterCITask\" size=\"small\"  :transfer=\"true\"  v-model=\"ciTaskSearchKey\" icon=\"ios-search\" placeholder=\"输入任务名称，查找任务！\" style=\"width:100%\">\n                <div style=\"overflow-y: scroll;max-height:400px;\">\n                <div class=\"demo-auto-complete-item\" v-for=\"item in projectCITasks\" v-if=\"item.CITaskCount>0\">\n                  <div class=\"demo-auto-complete-group\">\n                    <span style=\"padding-left: 10px;\"><Avatar :src=\"item.PBAvatar\" /></span>\n                    <span >{{ item.ProjectName }}</span>\n                    <span >  ({{ item.CITaskCount }})</span>\n                  </div>\n                  <Option v-for=\"option in item.CITasks\" v-if=\"option.Display\" :value=\"option.TaskName\" :key=\"option.ID\">\n                    <a :href=\"option.TaskHistoryURL\" class=\"demo-auto-complete-title\">{{ option.TaskName }}</a>\n                    <!--<span class=\"demo-auto-complete-count\">{{ option.TaskName }} 人关注</span>-->\n                  </Option>\n                </div>\n                </div>\n              </AutoComplete>\n            </div>\n            </Col>\n            <Col :lg=\"4\" :md=\"6\" :sm=\"8\" :xs=\"8\">\n            <div class=\"app-body-header-rightbar-default\" style=\"padding-top: 15px;height: inherit\">\n              <span v-if=\"menuItem === 'task'\" @click=\"onAddCITask\"><Avatar class=\"cursor-hand\" style=\"background-color: #32be77;\" icon=\"md-add\"  /></span>\n              <span v-if=\"menuItem === 'taskflow'\" @click=\"onAddCITaskFlow\"><Avatar class=\"cursor-hand\" style=\"background-color: #32be77;\" icon=\"md-add\"  /></span>\n            </div>\n          </Col>\n          </Row>\n  </div>\n  </div>\n</template>\n\n<script>\nimport store from '../../store/index.js'\nimport { mapMutations} from 'vuex'\n\n  export default {\n    name: 'CIHead',\n    props: ['menuItem', 'flowID'],\n    data () {\n      return {\n         ciTaskSearchKey: '',\n         projectCITasks: []\n      }\n    },\n    methods: {\n      ...mapMutations('citask', ['setCITaskCreateDialogShow','setCITaskSearchKey']),\n      ...mapMutations('citaskflow', ['setCITaskFlowCreateDialogShow']),\n      loadCITaskList: function () {\n        this.$axios.get('/api/ci/project/my').then(response => {\n          this.projectCITasks = response.data.result\n        }, response => {\n\n        })\n      },\n      filterCITask: function (value) {\n        this.initCITaskStatus()\n        this.setCITaskSearchKey(value)\n        if (value.trim() !=='')\n        {\n          for(let i=0;i<this.projectCITasks.length;i++)\n          {\n            this.projectCITasks[i].CITaskCount = 0\n            for(let j=0; j<this.projectCITasks[i].CITasks.length;j++)\n            {\n              let temp = this.projectCITasks[i].CITasks[j]\n              if(temp.TaskName.toUpperCase().indexOf(value.toUpperCase())>-1)\n              {\n                 temp.Display = true\n                 this.projectCITasks[i].CITaskCount++\n              }\n              else\n              {\n                 temp.Display = false\n              }\n            }\n          }\n        }\n      },\n      initCITaskStatus: function () {\n        for(let i=0;i<this.projectCITasks.length;i++)\n        {\n          this.projectCITasks[i].CITaskCount = 0\n          for(let j=0; j<this.projectCITasks[i].CITasks.length;j++)\n          {\n            let temp = this.projectCITasks[i].CITasks[j]\n              temp.Display = true\n              this.projectCITasks[i].CITaskCount++\n          }\n        }\n\n      },\n      onAddCITask: function () {\n        this.setCITaskCreateDialogShow(true)\n      },\n      onAddCITaskFlow: function () {\n        this.setCITaskFlowCreateDialogShow(true)\n      }\n\n    },\n    created: function () {\n      this.loadCITaskList()\n\n    },\n    components: {},\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n@import '../../components/layout/appBody';\n@import '../../components/layout/appHead';\n@import '../../assets/teamcat/global/less/global';\n.demo-auto-complete-item{\n  padding: 4px 0;\n  border-bottom: 1px solid #F6F6F6;\n}\n.demo-auto-complete-group{\n  font-size: 12px;\n  padding: 4px 6px;\n}\n.demo-auto-complete-group span{\n  color: #666;\n  font-weight: bold;\n}\n.demo-auto-complete-group a{\n  float: right;\n}\n.demo-auto-complete-count{\n  float: right;\n  color: #999;\n}\n.demo-auto-complete-more {\n  display: block;\n  margin: 0 auto;\n  padding: 4px;\n  text-align: center;\n  font-size: 12px;\n}\n.demo-auto-complete-title{\n  color:inherit;\n  padding-left:20px;\n}\n.task-search-itemgroup-badge\n{\n  background-color: #388E8E!important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/ci/Head.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-body-head-default\"},[_c('div',{staticClass:\"app-body-header-bar-default\"},[_c('Row',[_c('Col',{attrs:{\"lg\":16,\"md\":14,\"sm\":16,\"xs\":16}},[_c('div',{staticClass:\"app-body-header-leftbar-default\"},[_c('ul',{staticClass:\"app-body-head-menu\"},[_c('router-link',{staticClass:\"app-body-head-menu-item\",attrs:{\"to\":\"/ci/task\",\"tag\":\"li\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',{attrs:{\"href\":\"/ci/task\"}},[_c('i',{staticClass:\"fa fa-fw  fa-bus\"}),_vm._v(\"任务\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"app-body-head-menu-item\",attrs:{\"to\":\"/ci/taskflow\",\"tag\":\"li\",\"active-class\":\"app-body-head-menu-item-active\"}},[_c('a',{attrs:{\"href\":\"/ci/taskflow\"}},[_c('i',{staticClass:\"fa fa-fw  fa-bus\"}),_vm._v(\"任务流\")])]),_vm._v(\" \"),_c('li',{staticClass:\"app-body-head-menu-item\"},[_c('a',{attrs:{\"href\":\"/ci/settings/global_variable\"}},[_c('i',{staticClass:\"fa fa-fw  fa-bus\"}),_vm._v(\"设置\")])])],1)])]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":4,\"sm\":0,\"xs\":0}},[_c('div',{staticStyle:{\"padding-top\":\"20px\",\"height\":\"inherit\"}},[(_vm.menuItem === 'task')?_c('AutoComplete',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"transfer\":true,\"icon\":\"ios-search\",\"placeholder\":\"输入任务名称，查找任务！\"},on:{\"on-search\":_vm.filterCITask},model:{value:(_vm.ciTaskSearchKey),callback:function ($$v) {_vm.ciTaskSearchKey=$$v},expression:\"ciTaskSearchKey\"}},[_c('div',{staticStyle:{\"overflow-y\":\"scroll\",\"max-height\":\"400px\"}},_vm._l((_vm.projectCITasks),function(item){return (item.CITaskCount>0)?_c('div',{staticClass:\"demo-auto-complete-item\"},[_c('div',{staticClass:\"demo-auto-complete-group\"},[_c('span',{staticStyle:{\"padding-left\":\"10px\"}},[_c('Avatar',{attrs:{\"src\":item.PBAvatar}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.ProjectName))]),_vm._v(\" \"),_c('span',[_vm._v(\"  (\"+_vm._s(item.CITaskCount)+\")\")])]),_vm._v(\" \"),_vm._l((item.CITasks),function(option){return (option.Display)?_c('Option',{key:option.ID,attrs:{\"value\":option.TaskName}},[_c('a',{staticClass:\"demo-auto-complete-title\",attrs:{\"href\":option.TaskHistoryURL}},[_vm._v(_vm._s(option.TaskName))])]):_vm._e()})],2):_vm._e()}))]):_vm._e()],1)]),_vm._v(\" \"),_c('Col',{attrs:{\"lg\":4,\"md\":6,\"sm\":8,\"xs\":8}},[_c('div',{staticClass:\"app-body-header-rightbar-default\",staticStyle:{\"padding-top\":\"15px\",\"height\":\"inherit\"}},[(_vm.menuItem === 'task')?_c('span',{on:{\"click\":_vm.onAddCITask}},[_c('Avatar',{staticClass:\"cursor-hand\",staticStyle:{\"background-color\":\"#32be77\"},attrs:{\"icon\":\"md-add\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.menuItem === 'taskflow')?_c('span',{on:{\"click\":_vm.onAddCITaskFlow}},[_c('Avatar',{staticClass:\"cursor-hand\",staticStyle:{\"background-color\":\"#32be77\"},attrs:{\"icon\":\"md-add\"}})],1):_vm._e()])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31041ca4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/ci/Head.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31041ca4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Head.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Head.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31041ca4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Head.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31041ca4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/ci/Head.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}